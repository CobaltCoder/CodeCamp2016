{"version":3,"file":"clients-view.jsx","sourceRoot":null,"sources":["clients-view.jsx"],"sourcesContent":["var Clients = React.createClass({\r\n    propTypes: {\r\n        clients: React.PropTypes.array.isRequired,\r\n        vm: React.PropTypes.object.isRequired\r\n},\r\n    getDefaultProps: function () {\r\n        return {\r\n            clients: [],\r\n            vm: {}\r\n        };\r\n    },\r\n    getInitialState: function () {\r\n        return {\r\n            allClients: this.props.clients\r\n        };\r\n    },\r\n    render: function () {\r\n        return (\r\n            <div>\r\n                <div className=\"panel panel-primary\">\r\n                    <div className=\"panel-heading\">\r\n                        <h3 className=\"panel-title\">\r\n                            Clients\r\n                        </h3>\r\n                    </div>\r\n                    <table className=\"table table-striped table-condensed\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Name</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.state.allClients.map(function (client, clientIndex) {\r\n                                return (\r\n                                    <ClientRow client={client} index={clientIndex} />\r\n                                )\r\n\r\n                            })}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div>\r\n                    <input type=\"text\" id=\"txtNew\" className=\"col-md-6 col-xs-8\" />\r\n                    &nbsp;<input type=\"button\" className=\"md-raised md-primary md-button md-ink-ripple\" value=\"Add\" onClick={ this.Save } />\r\n                </div>\r\n            </div>\r\n        );\r\n    },\r\n    componentDidMount: function () {\r\n        var url = \"http://spdev/sites/ngreact/_api/lists/GetByTitle('Clients')/Items?$select=id,Title\";\r\n\r\n        $.ajax({\r\n            url: url,\r\n            headers: {\r\n                \"accept\": \"application/json;odata=verbose\",\r\n                \"content-type\": \"application/json;odata=verbose\"\r\n            },\r\n            success: function (data) {\r\n                var clientsData = [];\r\n                $.each(data.d.results, function (key, val) {\r\n                    clientsData.push(val.Title);\r\n                });\r\n\r\n                this.setState({ allClients: clientsData });\r\n            }.bind(this)\r\n        });\r\n    },\r\n    Save: function () {\r\n        clientData = this.state.allClients;\r\n        clientData.push(document.getElementById('txtNew').value);\r\n        this.setState({ allClients: clientData });\r\n        this.props.vm.save(document.getElementById('txtNew').value);\r\n    }\r\n});\r\n\r\nvar ClientRow = React.createClass({\r\n    propTypes: {\r\n        client: React.PropTypes.object.isRequired,\r\n        index: React.PropTypes.number.isRequired\r\n    },\r\n    getDefaultProps: function () {\r\n        return {\r\n            contact: {},\r\n            index: 0\r\n        };\r\n    },\r\n    render: function () {\r\n        return (\r\n            <tr>\r\n                <td>{this.props.client}</td>\r\n            </tr>\r\n        );\r\n    }\r\n});\r\n\r\ntheApp.value('Clients', Clients);\r\n\r\ntheApp.directive('clients', function (reactDirective) {\r\n    return reactDirective('Clients');\r\n});"],"names":[],"mappings":";;;;;AAAA,IAAI,UAAU,MAAM,WAAN,CAAkB;AAAA;;AAC5B,eAAW;AACP,iBAAS,MAAM,SAAN,CAAgB,KAAhB,CAAsB,UADxB;AAEP,YAAI,MAAM,SAAN,CAAgB,MAAhB,CAAuB;AAFpB,KADiB;AAK5B,qBAAiB,2BAAY;AACzB,eAAO;AACH,qBAAS,EADN;AAEH,gBAAI;AAFD,SAAP;AAIH,KAV2B;AAW5B,qBAAiB,2BAAY;AACzB,eAAO;AACH,wBAAY,KAAK,KAAL,CAAW;AADpB,SAAP;AAGH,KAf2B;AAgB5B,YAAQ,kBAAY;AAChB,eACI;AAAA;YAAA;YACI;AAAA;gBAAA,EAAK,WAAU,qBAAf;gBACI;AAAA;oBAAA,EAAK,WAAU,eAAf;oBACI;AAAA;wBAAA,EAAI,WAAU,aAAd;wBAAA;AAAA;AADJ,iBADJ;gBAMI;AAAA;oBAAA,EAAO,WAAU,qCAAjB;oBACI;AAAA;wBAAA;wBACI;AAAA;4BAAA;4BACI;AAAA;gCAAA;gCAAA;AAAA;AADJ;AADJ,qBADJ;oBAMI;AAAA;wBAAA;wBACK,KAAK,KAAL,CAAW,UAAX,CAAsB,GAAtB,CAA0B,UAAU,MAAV,EAAkB,WAAlB,EAA+B;AACtD,mCACI,oBAAC,SAAD,IAAW,QAAQ,MAAnB,EAA2B,OAAO,WAAlC,GADJ;AAIH,yBALA;AADL;AANJ;AANJ,aADJ;YAuBI;AAAA;gBAAA;gBACI,+BAAO,MAAK,MAAZ,EAAmB,IAAG,QAAtB,EAA+B,WAAU,mBAAzC,GADJ;gBAAA;gBAEU,+BAAO,MAAK,QAAZ,EAAqB,WAAU,8CAA/B,EAA8E,OAAM,KAApF,EAA0F,SAAU,KAAK,IAAzG;AAFV;AAvBJ,SADJ;AA8BH,KA/C2B;AAgD5B,uBAAmB,6BAAY;AAC3B,YAAI,MAAM,oFAAV;;AAEA,UAAE,IAAF,CAAO;AACH,iBAAK,GADF;AAEH,qBAAS;AACL,0BAAU,gCADL;AAEL,gCAAgB;AAFX,aAFN;AAMH,qBAAS,UAAU,IAAV,EAAgB;AACrB,oBAAI,cAAc,EAAlB;AACA,kBAAE,IAAF,CAAO,KAAK,CAAL,CAAO,OAAd,EAAuB,UAAU,GAAV,EAAe,GAAf,EAAoB;AACvC,gCAAY,IAAZ,CAAiB,IAAI,KAArB;AACH,iBAFD;;AAIA,qBAAK,QAAL,CAAc,EAAE,YAAY,WAAd,EAAd;AACH,aAPQ,CAOP,IAPO,CAOF,IAPE;AANN,SAAP;AAeH,KAlE2B;AAmE5B,UAAM,gBAAY;AACd,qBAAa,KAAK,KAAL,CAAW,UAAxB;AACA,mBAAW,IAAX,CAAgB,SAAS,cAAT,CAAwB,QAAxB,EAAkC,KAAlD;AACA,aAAK,QAAL,CAAc,EAAE,YAAY,UAAd,EAAd;AACA,aAAK,KAAL,CAAW,EAAX,CAAc,IAAd,CAAmB,SAAS,cAAT,CAAwB,QAAxB,EAAkC,KAArD;AACH;AAxE2B,CAAlB,CAAd;;AA2EA,IAAI,YAAY,MAAM,WAAN,CAAkB;AAAA;;AAC9B,eAAW;AACP,gBAAQ,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UADxB;AAEP,eAAO,MAAM,SAAN,CAAgB,MAAhB,CAAuB;AAFvB,KADmB;AAK9B,qBAAiB,2BAAY;AACzB,eAAO;AACH,qBAAS,EADN;AAEH,mBAAO;AAFJ,SAAP;AAIH,KAV6B;AAW9B,YAAQ,kBAAY;AAChB,eACI;AAAA;YAAA;YACI;AAAA;gBAAA;gBAAK,KAAK,KAAL,CAAW;AAAhB;AADJ,SADJ;AAKH;AAjB6B,CAAlB,CAAhB;;AAoBA,OAAO,KAAP,CAAa,SAAb,EAAwB,OAAxB;;AAEA,OAAO,SAAP,CAAiB,SAAjB,EAA4B,UAAU,cAAV,EAA0B;AAClD,WAAO,eAAe,SAAf,CAAP;AACH,CAFD"}